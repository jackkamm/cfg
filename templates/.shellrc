# If not running interactively, don't do anything
[[ $- != *i* ]] && return

## .bashrc ONLY

[[ -r ~/.bash_prompt ]] && . ~/.bash_prompt

## .zshrc ONLY

[[ -r ~/.zsh_prompt ]] && . ~/.zsh_prompt

## emacs-term remote directory tracking

set_eterm_dir() {
    echo -e "\033AnSiTu" "$LOGNAME"
    echo -e "\033AnSiTh" "$(hostname)"
    echo -e "\033AnSiTc" "$(pwd)"
}

#if [ -n "$INSIDE_EMACS" ]; then
if [ "$TERM" = "eterm-color" ]; then
    # bash
    PROMPT_COMMAND=set_eterm_dir
    # zsh
    precmd_functions=($precmd_functions set_eterm_dir)
fi

## linux ONLY

alias ls='ls --color=auto'

## OSX emacs-term stuff, probably outdated....

# fixes broken term-send-backspace in emacs term in OSX
if [[ -n $INSIDE_EMACS && $(uname) == 'Darwin' ]]; then
    stty ek
    ## alternate solution:
    #stty erase 
fi
